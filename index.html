<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="GiftDrop.ru ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫–µ–π—Å—ã CS2, –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –¥—Ä–æ–ø—ã, —Ä–µ—Ñ–µ—Ä–∞–ª—ã –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å–∫–∏–Ω—ã. –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π —Å–∫–∏–Ω—ã –±–µ–∑ –≤–ª–æ–∂–µ–Ω–∏–π!">
    <meta name="keywords" content="CS2 –∫–µ–π—Å—ã, –ø–æ–¥–∞—Ä–∫–∏, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Å–∫–∏–Ω—ã, GiftDrop, –¥—Ä–æ–ø—ã, —Ä–µ—Ñ–µ—Ä–∞–ª–∫–∞">
    <meta name="robots" content="index, follow">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <title>GiftDrop.ru ‚Äî –û—Ç–∫—Ä—ã–≤–∞–π –∫–µ–π—Å—ã –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π —Å–∫–∏–Ω—ã</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <div class="header-left">
            <div class="close-btn">√ó</div>
            <div class="header-title">Gift Drop</div>
        </div>
        <div class="header-right">
            <div class="deposit-btn">
                <span>+</span>
                <span>Deposit</span>
            </div>
            <div class="profile-img">U</div>
        </div>
    </div>
    
    <div class="section-title">Free cases</div>
    <div class="update-info">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        <span>Updated in <span class="timer">03:25:47</span></span>
    </div>
    
    <div class="cases-container">
        <div class="case-item">
            <img class="case-image" src="assets/Promo.png" alt="Promocode Box">
            <div class="case-name">Promocode Box</div>
            <a href="/case.html?name=promocode" class="open-btn">Open for free</a>
        </div>
        <div class="case-item">
            <img class="case-image" src="assets/Daily.png" alt="Daily">
            <div class="case-name">Daily</div>
            <button class="open-btn">Open for free</button>
        </div>
    </div>
    
    <div class="section-title">Deposit cases</div>
    
    <div class="cases-container">
        <div class="case-item">
            <img class="case-image" src="assets/1K.png" alt="Deposit 1000">
            <div class="case-name">Deposit <span class="highlighted">1000</span></div>
            <div class="deposit-count">
                <span>0</span>
                <div class="coin-icon">üíé</div>
            </div>
        </div>
        <div class="case-item">
            <img class="case-image" src="https://placehold.co/300x200/ffd700/000000?text=Deposit+2K" alt="Deposit 2000">
            <div class="case-name">Deposit <span class="highlighted">2000</span></div>
            <div class="deposit-count">
                <span>0</span>
                <div class="coin-icon">üíé</div>
            </div>
        </div>
        <div class="case-item">
            <img class="case-image" src="https://placehold.co/300x200/ff4500/ffffff?text=Deposit+5K" alt="Deposit 5000">
            <div class="case-name">Deposit <span class="highlighted">5000</span></div>
            <div class="deposit-count">
                <span>0</span>
                <div class="coin-icon">üíé</div>
            </div>
        </div>
        <div class="case-item">
            <img class="case-image" src="https://placehold.co/300x200/00bfff/ffffff?text=Deposit+10K" alt="Deposit 10000">
            <div class="case-name">Deposit <span class="highlighted">10000</span></div>
            <div class="deposit-count">
                <span>0</span>
                <div class="coin-icon">üíé</div>
            </div>
        </div>
    </div>
    
    <div class="live-drops">
        <div class="section-title">üî• LIVE Drops</div>
        <div id="live-drops-list" class="live-drops-list">
            <div class="live-drop">‚è≥ –ñ–¥–µ–º –ø–µ—Ä–≤—ã—Ö –¥—Ä–æ–ø–æ–≤...</div>
        </div>
    </div>
    
    <div class="referral-section">
        <div class="section-title">Referral cases</div>
        <div class="cases-container">
            <div class="case-item">
                <img class="case-image" src="https://placehold.co/300x200/8a2be2/ffffff?text=Referral+Case" alt="Referral Case">
                <div class="case-name">Referral Case</div>
                <div class="deposit-count">
                    <span>0</span>
                    <div class="coin-icon">üíé</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="nav-bar">
        <div class="nav-item active">
            <div class="nav-icon">üéÅ</div>
            <div class="nav-text">Cases</div>
        </div>
        <div class="nav-item" onclick="window.location.href='/games.html'">
            <div class="nav-icon">üéÆ</div>
            <div class="nav-text">Games</div>
        </div>
        <div class="nav-item">
            <div class="nav-icon">‚öôÔ∏è</div>
            <div class="nav-text">Exercises</div>
        </div>
    </div>

    <script>
        // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ SSE –¥–ª—è LIVE-–¥—Ä–æ–ø–æ–≤
        const eventSource = new EventSource('/api/live-drops.php');
        eventSource.onmessage = function(e) {
            const drop = JSON.parse(e.data);
            const liveList = document.getElementById('live-drops-list');
            const dropElement = document.createElement('div');
            dropElement.className = 'live-drop';
            dropElement.innerHTML = `
                <strong>${drop.user}</strong> –æ—Ç–∫—Ä—ã–ª <strong>${drop.case}</strong> –∏ –≤—ã–∏–≥—Ä–∞–ª <strong>${drop.item}</strong> (${drop.value}$)
            `;
            liveList.insertBefore(dropElement, liveList.firstChild);
            if (liveList.children.length > 10) liveList.removeChild(liveList.lastChild);
        };
        eventSource.onerror = function() {
            document.getElementById('live-drops-list').innerHTML = 
                '<div class="live-drop">‚ùå –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º</div>';
        };

        // –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∫–µ–π—Å–æ–≤
        let balance = 0;
        document.querySelectorAll('.open-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const caseName = btn.parentElement.querySelector('.case-name').textContent;
                let reward = 0;
                if (caseName === 'Promocode Box') reward = 50;
                if (caseName === 'Daily') reward = 30;
                balance += reward;
                document.querySelector('.profile-img').textContent = 'üíé ' + Math.floor(balance);

                const popup = document.createElement('div');
                popup.textContent = `+${reward}üíé`;
                popup.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: linear-gradient(90deg, #ffd700, #ff4500);
                    color: #000;
                    padding: 15px 25px;
                    border-radius: 20px;
                    font-weight: bold;
                    font-size: 20px;
                    z-index: 1000;
                    box-shadow: 0 10px 30px rgba(255, 69, 0, 0.6);
                    animation: pop 1s ease-out;
                `;
                document.body.appendChild(popup);
                setTimeout(() => popup.remove(), 1000);
            });
        });
        
    </script>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Ñ–∏–ª—è -->
<div id="profile-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <div class="profile-header-modal">
            <div class="profile-avatar">üë§</div>
            <h3 id="modal-username">–ê–Ω–æ–Ω–∏–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h3>
            <p id="modal-refcode">–í–∞—à —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥: <strong id="modal-ref-code">-----</strong></p>
            <div class="profile-balance">
                <span>–ë–∞–ª–∞–Ω—Å:</span>
                <strong id="modal-balance">0</strong> üíé
            </div>
        </div>

        <div class="modal-tabs">
            <button class="modal-tab-btn active" data-tab="overview">–û–±–∑–æ—Ä</button>
            <button class="modal-tab-btn" data-tab="history">–ò—Å—Ç–æ—Ä–∏—è</button>
            <button class="modal-tab-btn" data-tab="referrals">–†–µ—Ñ–µ—Ä–∞–ª—ã</button>
            <button class="modal-tab-btn" data-tab="achievements">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</button>
        </div>

        <div class="modal-tab-content active" id="modal-tab-overview">
            <div class="modal-stats-grid">
                <div class="stat-item">
                    <span>–û—Ç–∫—Ä—ã—Ç–æ –∫–µ–π—Å–æ–≤</span>
                    <strong id="modal-stat-opened">0</strong>
                </div>
                <div class="stat-item">
                    <span>–í—ã–∏–≥—Ä–∞–Ω–æ</span>
                    <strong id="modal-stat-won">0</strong> üíé
                </div>
                <div class="stat-item">
                    <span>–†–µ—Ñ–µ—Ä–∞–ª–æ–≤</span>
                    <strong id="modal-stat-referrals">0</strong>
                </div>
                <div class="stat-item">
                    <span>–î–æ—Å—Ç–∏–∂–µ–Ω–∏–π</span>
                    <strong id="modal-stat-achievements">0</strong>
                </div>
            </div>

            <div style="margin-top: 20px; text-align: center;">
                <button class="modal-daily-bonus-btn" id="modal-daily-bonus-btn">–ü–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å</button>
                <p id="modal-daily-bonus-timer" style="color: #aaa; margin-top: 10px;">‚è≥ –°–ª–µ–¥—É—é—â–∏–π –±–æ–Ω—É—Å —á–µ—Ä–µ–∑: 23:59:59</p>
            </div>
        </div>

        <div class="modal-tab-content" id="modal-tab-history">
            <h4>üìú –ò—Å—Ç–æ—Ä–∏—è –æ—Ç–∫—Ä—ã—Ç–∏–π</h4>
            <div id="modal-history-list" class="history-list">
                <p style="color: #aaa; text-align: center;">–ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ ‚Äî –æ—Ç–∫—Ä–æ–π—Ç–µ –ø–µ—Ä–≤—ã–π –∫–µ–π—Å!</p>
            </div>
        </div>

        <div class="modal-tab-content" id="modal-tab-referrals">
            <h4>ü§ù –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</h4>
            <p>–ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π ‚Äî –ø–æ–ª—É—á–∞–π—Ç–µ <strong>10% –æ—Ç –∏—Ö –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–π</strong>!</p>
            <div class="referral-box">
                <input type="text" id="modal-ref-link" value="https://giftdrop.ru?ref=-----" readonly>
                <button class="copy-btn" onclick="copyToClipboard('#modal-ref-link')">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            </div>
            <div class="referral-stats">
                <p>–ü—Ä–∏–≤–ª–µ—á–µ–Ω–æ: <strong id="modal-ref-count">0</strong> –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
                <p>–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: <strong id="modal-ref-earnings">0</strong> üíé</p>
            </div>
            <div class="referral-list" id="modal-referral-list">
                <p style="color: #aaa; text-align: center;">–ü–æ–∫–∞ –Ω–µ—Ç –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã—Ö</p>
            </div>
        </div>

        <div class="modal-tab-content" id="modal-tab-achievements">
            <h4>üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h4>
            <div class="achievements-grid" id="modal-achievements-grid">
                <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è JS -->
            </div>
            <p style="color: #aaa; margin-top: 20px; text-align: center;">–ü–æ–ª—É—á–∏—Ç–µ –≤—Å–µ ‚Äî –∏ —Å—Ç–∞–Ω—å—Ç–µ –ª–µ–≥–µ–Ω–¥–æ–π!</p>
        </div>

        <div style="text-align: center; margin-top: 20px;">
            <button class="logout-btn-modal" onclick="logout()">–í—ã–π—Ç–∏</button>
        </div>
    </div>
</div>

<style>
/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
.modal {
    display: none;
    position: fixed;
    z-index: 1001;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.8);
    overflow-y: auto;
}

.modal-content {
    background: linear-gradient(145deg, #1a1a1a, #222222);
    margin: 5% auto;
    padding: 20px;
    border-radius: 15px;
    width: 90%;
    max-width: 500px;
    box-shadow: 0 15px 40px rgba(255, 69, 0, 0.5);
    position: relative;
    color: #fff;
    max-height: 90vh;
    overflow-y: auto;
}

.close-btn {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    position: absolute;
    top: 10px;
    right: 15px;
    transition: color 0.2s;
}

.close-btn:hover {
    color: #ff4500;
}

.profile-header-modal {
    text-align: center;
    margin-bottom: 25px;
    padding-bottom: 20px;
    border-bottom: 1px solid #333;
}

.profile-avatar {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    background: linear-gradient(45deg, #ff4500, #007bff);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 32px;
    margin: 0 auto 12px;
    box-shadow: 0 0 15px rgba(255, 69, 0, 0.3);
}

.profile-header-modal h3 {
    font-size: 18px;
    margin-bottom: 5px;
    color: #fff;
}

.profile-header-modal p {
    font-size: 13px;
    color: #aaa;
    margin-bottom: 8px;
}

.profile-balance {
    font-size: 16px;
    font-weight: bold;
    color: #ff4500;
}

.modal-tabs {
    display: flex;
    justify-content: center;
    margin-bottom: 15px;
    flex-wrap: wrap;
    gap: 5px;
}

.modal-tab-btn {
    background: rgba(255, 255, 255, 0.1);
    border: none;
    border-radius: 20px;
    padding: 8px 14px;
    font-size: 13px;
    color: #ccc;
    cursor: pointer;
    transition: all 0.2s ease;
}

.modal-tab-btn.active {
    background: linear-gradient(90deg, #ff4500, #ff8c00);
    color: white;
    box-shadow: 0 4px 12px rgba(255, 69, 0, 0.4);
}

.modal-tab-content {
    display: none;
    padding: 15px 0;
}

.modal-tab-content.active {
    display: block;
}

.modal-stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    margin-bottom: 15px;
}

.stat-item {
    background: rgba(0,0,0,0.3);
    padding: 12px;
    border-radius: 8px;
    text-align: center;
}

.stat-item span {
    font-size: 12px;
    color: #aaa;
}

.stat-item strong {
    font-size: 16px;
    color: #fff;
}

.modal-daily-bonus-btn {
    background: linear-gradient(90deg, #8a2be2, #9370db);
    color: white;
    border: none;
    border-radius: 30px;
    padding: 12px 20px;
    font-weight: bold;
    cursor: pointer;
    margin-top: 10px;
    font-size: 14px;
}

.modal-daily-bonus-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.modal-daily-bonus-btn:hover:not(:disabled) {
    transform: translateY(-2px);
}

.modal-ref-link {
    width: 100%;
    padding: 10px;
    border: none;
    border-radius: 8px;
    background: rgba(255,255,255,0.1);
    color: #fff;
    font-size: 13px;
    margin-bottom: 10px;
    text-align: center;
}

.copy-btn {
    background: linear-gradient(90deg, #ff4500, #ff8c00);
    color: white;
    border: none;
    border-radius: 20px;
    padding: 8px 15px;
    font-weight: bold;
    cursor: pointer;
    font-size: 12px;
    margin-bottom: 15px;
}

.referral-stats {
    margin: 10px 0;
    color: #fff;
    font-size: 13px;
}

.referral-list {
    max-height: 120px;
    overflow-y: auto;
    margin-top: 10px;
    padding: 8px;
    background: rgba(0,0,0,0.2);
    border-radius: 8px;
    font-size: 13px;
}

.achievements-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    margin-bottom: 15px;
}

.achievement-item {
    background: rgba(255,255,255,0.08);
    padding: 12px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    border: 1px solid #333;
}

.achievement-icon {
    font-size: 20px;
}

.achievement-info strong {
    color: #fff;
}

.achievement-info small {
    color: #aaa;
    font-size: 11px;
}

.achievement-badge {
    margin-left: auto;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 10px;
    font-weight: bold;
    background: rgba(255, 69, 0, 0.2);
    color: #ff4500;
}

.achievement-badge.achieved {
    background: rgba(40, 167, 69, 0.3);
    color: #28a745;
}

.logout-btn-modal {
    background: linear-gradient(90deg, #ff4500, #ff8c00);
    color: white;
    border: none;
    border-radius: 30px;
    padding: 12px 25px;
    font-weight: bold;
    cursor: pointer;
    margin-top: 15px;
    width: 100%;
    font-size: 14px;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
.modal-content {
    animation: fadeInUp 0.3s ease-out;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
</style>

<script>
// –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
function openProfileModal() {
    document.getElementById('profile-modal').style.display = 'block';
    loadProfileData();
}

// –§—É–Ω–∫—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
function closeProfileModal() {
    document.getElementById('profile-modal').style.display = 'none';
}

// –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è
function loadProfileData() {
    const user = JSON.parse(localStorage.getItem('giftdrop_user') || '{}');
    const balance = parseInt(localStorage.getItem('giftdrop_balance') || '0');
    const history = JSON.parse(localStorage.getItem('giftdrop_history') || '[]');
    const referrals = JSON.parse(localStorage.getItem('giftdrop_referrals') || '[]');
    const achievements = JSON.parse(localStorage.getItem('giftdrop_achievements') || '[]');
    const dailyBonus = localStorage.getItem('giftdrop_daily_bonus') || null;

    // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –º–æ–¥–∞–ª–∫–µ
    document.getElementById('modal-username').textContent = user.username || '–ê–Ω–æ–Ω–∏–º';
    document.getElementById('modal-ref-code').textContent = user.ref_code || '-----';
    document.getElementById('modal-balance').textContent = balance;
    document.getElementById('modal-ref-link').value = `https://giftdrop.ru?ref=${user.ref_code || '-----'}`;

    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    document.getElementById('modal-stat-opened').textContent = history.length;
    document.getElementById('modal-stat-won').textContent = history.reduce((sum, h) => sum + h.value, 0);
    document.getElementById('modal-ref-count').textContent = referrals.length;
    document.getElementById('modal-ref-earnings').textContent = referrals.reduce((sum, r) => sum + r.earnings, 0);
    document.getElementById('modal-stat-referrals').textContent = referrals.length;
    document.getElementById('modal-stat-achievements').textContent = achievements.length;

    // –ò—Å—Ç–æ—Ä–∏—è
    const historyList = document.getElementById('modal-history-list');
    if (history.length > 0) {
        historyList.innerHTML = '';
        history.slice(-10).reverse().forEach(h => {
            const el = document.createElement('div');
            el.className = 'history-item';
            el.innerHTML = `
                <span class="history-time">${new Date(h.time).toLocaleTimeString()}</span>
                <span class="history-case">${h.case}</span>
                <span class="history-value">+${h.value}üíé</span>
            `;
            historyList.appendChild(el);
        });
    } else {
        historyList.innerHTML = '<p style="color: #aaa; text-align: center;">–ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ ‚Äî –æ—Ç–∫—Ä–æ–π—Ç–µ –ø–µ—Ä–≤—ã–π –∫–µ–π—Å!</p>';
    }

    // –†–µ—Ñ–µ—Ä–∞–ª—ã
    const referralList = document.getElementById('modal-referral-list');
    if (referrals.length > 0) {
        referralList.innerHTML = '';
        referrals.forEach(r => {
            const el = document.createElement('div');
            el.className = 'referral-item';
            el.innerHTML = `
                <span>${r.username}</span>
                <span>+${r.earnings}üíé</span>
            `;
            referralList.appendChild(el);
        });
    } else {
        referralList.innerHTML = '<p style="color: #aaa; text-align: center;">–ü–æ–∫–∞ –Ω–µ—Ç –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã—Ö</p>';
    }

    // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
    const achievementsGrid = document.getElementById('modal-achievements-grid');
    achievementsGrid.innerHTML = '';
    const achievementsData = [
        { id: 'open10', name: '–ù–æ–≤–∏—á–æ–∫', desc: '–û—Ç–∫—Ä—ã–ª 10 –∫–µ–π—Å–æ–≤', icon: 'üéñÔ∏è' },
        { id: 'open50', name: '–≠–Ω—Ç—É–∑–∏–∞—Å—Ç', desc: '–û—Ç–∫—Ä—ã–ª 50 –∫–µ–π—Å–æ–≤', icon: 'üî•' },
        { id: 'open100', name: '–ü—Ä–æ—Ñ–∏', desc: '–û—Ç–∫—Ä—ã–ª 100 –∫–µ–π—Å–æ–≤', icon: 'üèÜ' },
        { id: 'win1000', name: '–ë–æ–≥–∞—á', desc: '–í—ã–∏–≥—Ä–∞–ª 1000üíé', icon: 'üíé' },
        { id: 'ref1', name: '–ü—Ä–∏–≥–ª–∞—Å–∏–ª', desc: '–ü—Ä–∏–≥–ª–∞—Å–∏–ª 1 –¥—Ä—É–≥–∞', icon: 'ü§ù' },
        { id: 'ref5', name: '–¢–∏–º–ª–∏–¥', desc: '–ü—Ä–∏–≥–ª–∞—Å–∏–ª 5 –¥—Ä—É–∑–µ–π', icon: 'üë•' },
        { id: 'daily7', name: '–ü–æ—Å—Ç–æ—è–ª–µ—Ü', desc: '–ü–æ–ª—É—á–∞–ª –±–æ–Ω—É—Å 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥', icon: 'üìÖ' },
        { id: 'all', name: '–õ–µ–≥–µ–Ω–¥–∞', desc: '–ü–æ–ª—É—á–∏–ª –≤—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è', icon: '‚ú®' }
    ];

    achievementsData.forEach(a => {
        const achieved = achievements.includes(a.id);
        const el = document.createElement('div');
        el.className = 'achievement-item';
        el.innerHTML = `
            <div class="achievement-icon">${a.icon}</div>
            <div class="achievement-info">
                <strong>${a.name}</strong>
                <small>${a.desc}</small>
            </div>
            <div class="achievement-badge ${achieved ? 'achieved' : ''}">
                ${achieved ? '‚úîÔ∏è' : 'üîí'}
            </div>
        `;
        achievementsGrid.appendChild(el);
    });

    // –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å
    const dailyBonusBtn = document.getElementById('modal-daily-bonus-btn');
    const dailyBonusTimer = document.getElementById('modal-daily-bonus-timer');

    function updateDailyBonusTimer() {
        if (!dailyBonus) {
            dailyBonusBtn.disabled = false;
            dailyBonusBtn.textContent = '–ü–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å';
            dailyBonusTimer.textContent = '‚è≥ –°–ª–µ–¥—É—é—â–∏–π –±–æ–Ω—É—Å —á–µ—Ä–µ–∑: 23:59:59';
            return;
        }

        const last = new Date(dailyBonus);
        const now = new Date();
        const tomorrow = new Date(now);
        tomorrow.setDate(tomorrow.getDate() + 1);
        tomorrow.setHours(0, 0, 0, 0);

        const diffMs = tomorrow - now;
        const hours = Math.floor(diffMs / 3600000);
        const minutes = Math.floor((diffMs % 3600000) / 60000);
        const seconds = Math.floor((diffMs % 60000) / 1000);

        dailyBonusTimer.textContent = `‚è≥ –°–ª–µ–¥—É—é—â–∏–π –±–æ–Ω—É—Å —á–µ—Ä–µ–∑: ${hours.toString().padStart(2,'0')}:${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
        dailyBonusBtn.disabled = true;
        dailyBonusBtn.textContent = '–ë–æ–Ω—É—Å —É–∂–µ –ø–æ–ª—É—á–µ–Ω!';
    }

    updateDailyBonusTimer();
    setInterval(updateDailyBonusTimer, 1000);

    dailyBonusBtn.addEventListener('click', () => {
        if (dailyBonus) return;
        const now = new Date().toISOString();
        localStorage.setItem('giftdrop_daily_bonus', now);
        balance += 100;
        localStorage.setItem('giftdrop_balance', balance);
        document.getElementById('modal-balance').textContent = balance;
        document.getElementById('modal-stat-won').textContent = parseInt(document.getElementById('modal-stat-won').textContent) + 100;
        achievements.push('daily7');
        localStorage.setItem('giftdrop_achievements', JSON.stringify([...new Set(achievements)]));
        alert('üéâ –í—ã –ø–æ–ª—É—á–∏–ª–∏ 100üíé –∑–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å!');
        updateDailyBonusTimer();
    });

    // –í–∫–ª–∞–¥–∫–∏
    document.querySelectorAll('.modal-tab-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            document.querySelectorAll('.modal-tab-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.modal-tab-content').forEach(c => c.classList.remove('active'));
            btn.classList.add('active');
            document.getElementById(`modal-tab-${btn.dataset.tab}`).classList.add('active');
        });
    });

    // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏
    window.copyToClipboard = function(selector) {
        const el = document.querySelector(selector);
        el.select();
        document.execCommand('copy');
        alert('üîó –°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!');
    };
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤
document.querySelector('.profile-img').addEventListener('click', openProfileModal);

// –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫—Ä–µ—Å—Ç–∏–∫—É
document.querySelector('.close-btn').addEventListener('click', closeProfileModal);

// –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –º–æ–¥–∞–ª–∫–∏
window.addEventListener('click', (e) => {
    const modal = document.getElementById('profile-modal');
    if (e.target === modal) {
        closeProfileModal();
    }
});

// –ü—Ä–∏ –≤—Ö–æ–¥–µ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
if (localStorage.getItem('giftdrop_user')) {
    loadProfileData();
}

// –í—ã—Ö–æ–¥
function logout() {
    localStorage.removeItem('giftdrop_user');
    localStorage.removeItem('giftdrop_balance');
    localStorage.removeItem('giftdrop_history');
    localStorage.removeItem('giftdrop_referrals');
    localStorage.removeItem('giftdrop_achievements');
    localStorage.removeItem('giftdrop_daily_bonus');
    closeProfileModal();
    // –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—É—é, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
    // window.location.href = '/';
}
</script>
</body>
</html>